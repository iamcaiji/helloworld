# 系统说明书
---
### 引言
* 系统开发背景：

该系统是基于NVM（non-volatile memory）这种新的硬件的产生并流行使用的前提下，传统的数据库的某些方面可能不适应于新的硬件的支持，所以要设计一种更加能体现新型硬件优点的数据库系统，这就是实现该数据库的最初的动机。

* 系统实现的时间计划
   1. 5/4我们会发布v1版本，主要是实现了PAllocator以及LevelDB的使用
   2. 5/11之前我们会发布v2版本，FPTreeDB的插入和重载操作
   3. 5/18之前我们会发布v3版本，FPTreeDB的查询和更新操作
   4. 5/31之前我们会发布final版本，FPTreeDB的删除和所有剩余操作

### 系统介绍

* 功能简介：

 这个系统结合了非易失性内存和现今的磁盘存储的技术，将有必要的数据进行永久的保存，保证了掉电的时候可以快速进行重构，而且数据不会丢失等问题。当然还有当今的数据库系统应有的功能，只是对这些数据库系统的一个改进的方案。

* 基本原理：

基本原理和B+树大致是一样的，但是为了实现持久化，LeftNode会有一点不一样，但是InnerNode还是差不多的，保存的是键而没有值。所以在这棵树的基础上对其进行增删查改以及重构的操作。至于我们没有NVM硬件的支持，所以我们用Intel的模拟NVM来做，所以也会涉及很多NVM的操作。


### 使用指导
对于用户而言，对于系统内部的实现不需要知道得太多，使用这个系统对数据进行管理只需要五个基本的操作就可以了，分别是增（insert）、删（delete）、改（update）、查（find）、重构（bulkLoading）。

* insert ---增加一条数据记录
* delete ---删除一条数据记录
* update ---更改一条数据记录的某些值
* find ---根据key查询一条或多条数据记录
* bulkLoading ---新建一棵树的时候会先看文件夹里是否有数据文件，有则进行重构，没有会新建一棵树


